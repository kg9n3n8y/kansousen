# 札跡（ふだあと）

札跡（ふだあと）は、かるたの試合後（感想戦）に取った札・取られた札を陣形と決まり字付きで整理するためのシンプルな Web アプリです。マルチステップの入力ダイアログで記録を残し、盤面イメージとして視覚化・画像出力できるように設計されています。PWA（Progressive Web App）として配信でき、オフラインでも利用可能です。

## 主な機能
- 決まり字リストからの検索・選択と、陣の区画/何字決まり/取得者を順番に入力できるウィザード形式のダイアログ
- 入力済みの札を配置図上でレイアウトし、自陣/相手陣それぞれの左右列に対応した表示
- 盤面上の札をクリックすると確認ダイアログを表示し、承認後に札を削除
- 配置図の下部に「黒字は自分の取り　赤字は相手の取り」という凡例を表示（画像出力時にも自動で描画）
- 配置図の URL（`https://kg9n3n8y.github.io/kansousen/`）をワンクリックでコピーできるボタン
- 盤面レイアウトをキャンバス描画し、PNG 形式でダウンロード
- Service Worker によるアセットキャッシュと PWA マニフェストでのホーム画面インストール対応

## 使い方
1. 「取札を追加」ボタンを押すとダイアログが開きます。
2. 決まり字を検索・選択し、取った/取られた場所を盤面から選択します。
3. 何字決まりか（1〜6字）、誰が取ったか（自分/相手）を入力すると要約が表示されます。
4. 「追加」ボタンで盤面に反映され、不要な札は配置図上の札をクリックして表示される確認ダイアログで削除できます。
5. 配置図の URL を共有したい場合は「URLをコピー」ボタンを押してください。
6. 盤面のレイアウトを画像として保存したい場合は「画像としてダウンロード」ボタンを押してください。

## データの扱い
- 記録した内容はブラウザの `localStorage` に自動保存されるため、同じ端末・ブラウザであれば再訪時にも復元されます。
- 「登録内容をリセット」ボタンを押すと保存済みデータをまとめて削除できます。
- サーバーへの送信やバックエンド連携は行っていません。

## PWA とオフライン対応
- 初回アクセス時に Service Worker がインストールされ、`index.html` やスタイル/スクリプト/アイコンをキャッシュします。
- 以降はオフラインでもアプリを開いて操作できます（`localStorage` に保存された端末内データを利用します）。
- 対応ブラウザでは「ホーム画面に追加」からスタンドアロンアプリとして利用可能です。
